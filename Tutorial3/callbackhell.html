<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>DOCUMENT</title>
</head>
<body>
    <script>
        
        console.log("Start Task");

        setTimeout(() => { 
            console.log("Task 1 completed");
            setTimeout(() => {//2
                console.log("Task 2 completed");
                setTimeout(() => {//3
                    console.log("Task 3 completed");
                    setTimeout(() => {//4
                        console.log("Task 4 completed");
                    }, 1000);
                }, 1000);
            }, 1000);
        }, 1000);

        //USING PROMISE TO SOLVE CALLBACKHELL

        console.log("End Task");

        function task (message, ms) {
            return new Promise ((resolve ,reject )=> {
                setTimeout(() =>{ 
                    console.log(message)
                    resolve()
                }ms )
            })
            task ("task 1 completed", 1000)
            .then (()=> task("task 2 completed"), 1000)
            .then (()=> task ("task 3 completed"), 1000 )
            console.log ("all tasks completed ") 
            .catch(error => console.error(error));

        }
    </script>


</body>
</html>
